{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function ChatPage(){const[username]=useState(localStorage.getItem(\"username\"));const[receiver,setReceiver]=useState(\"\");const[message,setMessage]=useState(\"\");const[chatLog,setChatLog]=useState([]);const handleSend=()=>{if(!receiver||!message.trim())return;// Şimdilik sadece ekranda gösteriyoruz\nconst newMessage={from:username,to:receiver,text:message};setChatLog(prev=>[...prev,newMessage]);setMessage(\"\");};useEffect(()=>{if(!username){window.location.href=\"/\";}},[username]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Merhaba, \",username]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Mesaj atmak istedi\\u011Fin kullan\\u0131c\\u0131\",value:receiver,onChange:e=>setReceiver(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{border:\"1px solid #ccc\",height:\"200px\",padding:\"10px\",overflowY:\"auto\"},children:chatLog.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.from,\" \\u279C \",msg.to]}),\": \",msg.text]},index))}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Mesaj yaz...\",value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,children:\"G\\xF6nder\"})]});}export default ChatPage;","map":{"version":3,"names":["React","useEffect","useState","jsxs","_jsxs","jsx","_jsx","ChatPage","username","localStorage","getItem","receiver","setReceiver","message","setMessage","chatLog","setChatLog","handleSend","trim","newMessage","from","to","text","prev","window","location","href","style","padding","children","placeholder","value","onChange","e","target","border","height","overflowY","map","msg","index","onClick"],"sources":["C:/Users/kmfm2/Downloads/p2p-chat-kubradeniz (1)/p2p-chat-kubradeniz/client/src/pages/ChatPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nfunction ChatPage() {\r\n  const [username] = useState(localStorage.getItem(\"username\"));\r\n  const [receiver, setReceiver] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [chatLog, setChatLog] = useState([]);\r\n\r\n  const handleSend = () => {\r\n    if (!receiver || !message.trim()) return;\r\n\r\n    // Şimdilik sadece ekranda gösteriyoruz\r\n    const newMessage = {\r\n      from: username,\r\n      to: receiver,\r\n      text: message,\r\n    };\r\n\r\n    setChatLog((prev) => [...prev, newMessage]);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!username) {\r\n      window.location.href = \"/\";\r\n    }\r\n  }, [username]);\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Merhaba, {username}</h2>\r\n\r\n      <input\r\n        placeholder=\"Mesaj atmak istediğin kullanıcı\"\r\n        value={receiver}\r\n        onChange={(e) => setReceiver(e.target.value)}\r\n      /><br /><br />\r\n\r\n      <div style={{ border: \"1px solid #ccc\", height: \"200px\", padding: \"10px\", overflowY: \"auto\" }}>\r\n        {chatLog.map((msg, index) => (\r\n          <div key={index}>\r\n            <strong>{msg.from} ➜ {msg.to}</strong>: {msg.text}\r\n          </div>\r\n        ))}\r\n      </div><br />\r\n\r\n      <input\r\n        placeholder=\"Mesaj yaz...\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n      />\r\n      <button onClick={handleSend}>Gönder</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEnD,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,QAAQ,CAAC,CAAGN,QAAQ,CAACO,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAC7D,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAe,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAACN,QAAQ,EAAI,CAACE,OAAO,CAACK,IAAI,CAAC,CAAC,CAAE,OAElC;AACA,KAAM,CAAAC,UAAU,CAAG,CACjBC,IAAI,CAAEZ,QAAQ,CACda,EAAE,CAAEV,QAAQ,CACZW,IAAI,CAAET,OACR,CAAC,CAEDG,UAAU,CAAEO,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEJ,UAAU,CAAC,CAAC,CAC3CL,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAEDb,SAAS,CAAC,IAAM,CACd,GAAI,CAACO,QAAQ,CAAE,CACbgB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CACF,CAAC,CAAE,CAAClB,QAAQ,CAAC,CAAC,CAEd,mBACEJ,KAAA,QAAKuB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC9BzB,KAAA,OAAAyB,QAAA,EAAI,WAAS,CAACrB,QAAQ,EAAK,CAAC,cAE5BF,IAAA,UACEwB,WAAW,CAAC,gDAAiC,CAC7CC,KAAK,CAAEpB,QAAS,CAChBqB,QAAQ,CAAGC,CAAC,EAAKrB,WAAW,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cAAAzB,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,cAEdA,IAAA,QAAKqB,KAAK,CAAE,CAAEQ,MAAM,CAAE,gBAAgB,CAAEC,MAAM,CAAE,OAAO,CAAER,OAAO,CAAE,MAAM,CAAES,SAAS,CAAE,MAAO,CAAE,CAAAR,QAAA,CAC3Fd,OAAO,CAACuB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACtBpC,KAAA,QAAAyB,QAAA,eACEzB,KAAA,WAAAyB,QAAA,EAASU,GAAG,CAACnB,IAAI,CAAC,UAAG,CAACmB,GAAG,CAAClB,EAAE,EAAS,CAAC,KAAE,CAACkB,GAAG,CAACjB,IAAI,GADzCkB,KAEL,CACN,CAAC,CACC,CAAC,cAAAlC,IAAA,QAAK,CAAC,cAEZA,IAAA,UACEwB,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAElB,OAAQ,CACfmB,QAAQ,CAAGC,CAAC,EAAKnB,UAAU,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7C,CAAC,cACFzB,IAAA,WAAQmC,OAAO,CAAExB,UAAW,CAAAY,QAAA,CAAC,WAAM,CAAQ,CAAC,EACzC,CAAC,CAEV,CAEA,cAAe,CAAAtB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}